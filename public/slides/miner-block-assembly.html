<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>What the Miner Assembles</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"/>
<style>
    body {
        width: 1280px; height: 720px; overflow: hidden;
        font-family: 'Inter', sans-serif;
        background-color: #09090b;
        color: #F8FAFC; position: relative;
    }
    .bg-grid {
        position: absolute; inset: 0; z-index: 1;
        background-image:
            linear-gradient(rgba(6,182,212,0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6,182,212,0.07) 1px, transparent 1px);
        background-size: 30px 30px; opacity: 0.5;
    }
</style>
</head>
<body class="relative flex flex-col">
<div class="bg-grid"></div>

<header class="relative z-10 px-16 pt-8 pb-4 flex items-end justify-between"
        style="border-bottom:1px solid rgba(6,182,212,0.2); background:rgba(0,0,0,0.5);">
    <div>
        <span class="px-2 py-1 text-xs font-bold rounded"
              style="font-family:'JetBrains Mono',monospace;background:rgba(6,182,212,0.15);color:#22d3ee;border:1px solid rgba(6,182,212,0.3);">FOUNDATIONS</span>
        <h1 class="text-3xl font-black tracking-tight text-white uppercase mt-2"
            style="font-family:'Space Grotesk',sans-serif;letter-spacing:-0.02em;">
            What the Miner <span style="color:#22d3ee;">Assembles</span>
        </h1>
    </div>
    <p style="font-family:'JetBrains Mono',monospace;font-size:13px;color:rgba(148,163,184,0.6);">
        Block header, merkle tree &amp; search space
    </p>
</header>

<main class="relative z-10 flex-1 flex items-center justify-center">
<svg width="1200" height="555" viewBox="0 0 1200 555" style="overflow:visible;">

<!--
  BLOCK HEADER BOX  x=20..1180  y=10..100
  ┌────────────── Block Header ──────────────────────────────────────────┐
  │─────────────────────────────────────────────────────────────────────│ ← title bar, y=10..36
  │ version │ prev block hash │  merkle root  │ ntime │ nbits │  nonce  │ ← fields, y=36..100
  └─────────────────────────────────────────────────────────────────────┘

  Field dividers (no left label column — full 1160px for fields):
    x=20 | 170 | 490 | 690 | 830 | 970 | 1180
  Field centres:   95   330   590   760   900   1075
  merkle root centre x=590 → aligns with tree root below
-->

<!-- highlighted cell fills (drawn before border so border sits on top) -->
<rect x="490" y="36" width="200" height="64" fill="rgba(6,182,212,0.09)"/>
<rect x="690" y="36" width="140" height="64" fill="rgba(245,158,11,0.09)"/>
<rect x="970" y="36" width="210" height="64" fill="rgba(245,158,11,0.09)"/>

<!-- outer box -->
<rect x="20" y="10" width="1160" height="90" rx="8"
      fill="none" stroke="rgba(245,158,11,0.45)" stroke-width="1.5"/>

<!-- title bar fill -->
<rect x="20" y="10" width="1160" height="26" rx="8"
      fill="rgba(245,158,11,0.12)"/>
<!-- flatten bottom corners of title fill -->
<rect x="20" y="24" width="1160" height="12" fill="rgba(245,158,11,0.12)"/>

<!-- title text -->
<text x="600" y="27" text-anchor="middle"
      fill="rgba(245,158,11,0.8)" font-family="JetBrains Mono" font-size="11" font-weight="bold">Block Header</text>

<!-- title / fields divider -->
<line x1="20" y1="36" x2="1180" y2="36" stroke="rgba(245,158,11,0.3)" stroke-width="1"/>

<!-- field separators -->
<line x1="170" y1="36" x2="170" y2="100" stroke="rgba(6,182,212,0.15)"  stroke-width="1"/>
<line x1="490" y1="36" x2="490" y2="100" stroke="rgba(6,182,212,0.2)"   stroke-width="1"/>
<line x1="690" y1="36" x2="690" y2="100" stroke="rgba(245,158,11,0.25)" stroke-width="1"/>
<line x1="830" y1="36" x2="830" y2="100" stroke="rgba(245,158,11,0.25)" stroke-width="1"/>
<line x1="970" y1="36" x2="970" y2="100" stroke="rgba(245,158,11,0.25)" stroke-width="1"/>

<!-- field names (centred vertically in the 64px field area y=36..100, so text at y=68) -->
<text x="95"   y="72" text-anchor="middle" fill="rgba(6,182,212,0.35)"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">version</text>
<text x="330"  y="72" text-anchor="middle" fill="rgba(6,182,212,0.35)"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">prev block hash</text>
<text x="590"  y="72" text-anchor="middle" fill="#22d3ee"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">merkle root</text>
<text x="760"  y="72" text-anchor="middle" fill="#fcd34d"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">ntime</text>
<text x="900"  y="72" text-anchor="middle" fill="rgba(6,182,212,0.35)"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">nbits</text>
<text x="1075" y="72" text-anchor="middle" fill="#fcd34d"
      font-family="JetBrains Mono" font-size="14" font-weight="bold">nonce</text>

<!-- re-draw outer box border on top of fills -->
<rect x="20" y="10" width="1160" height="90" rx="8"
      fill="none" stroke="rgba(245,158,11,0.45)" stroke-width="1.5"/>


<!-- ═══════════════════════════════════════════════
     MERKLE TREE

     Connector from merkle root field (x=590, y=100) to root node.

     Root node "merkle root" rect:  centre (590, 143)  y=130..156
     Level-1 circles:  H01 @ (367,232)   H23 @ (807,232)
     Leaves (rects 110×44):
       Coinbase @ cx=247  Tx₁ @ cx=487  Tx₂ @ cx=687  Tx₃ @ cx=927
       y=288..332

     H01 = (247+487)/2 = 367 ✓
     H23 = (687+927)/2 = 807 ✓
     Root = (367+807)/2 = 587 ≈ 590 ✓
═══════════════════════════════════════════════════ -->

<!-- connector: merkle root field → root node -->
<line x1="590" y1="100" x2="590" y2="128"
      stroke="rgba(6,182,212,0.45)" stroke-width="1.5" stroke-dasharray="4,3"/>

<!-- ROOT NODE -->
<rect x="520" y="128" width="140" height="28" rx="6"
      fill="rgba(6,182,212,0.1)" stroke="rgba(6,182,212,0.6)" stroke-width="1.5"/>
<text x="590" y="146" text-anchor="middle"
      fill="#22d3ee" font-family="JetBrains Mono" font-size="11" font-weight="bold">merkle root</text>

<!-- root → level-1 branches -->
<line x1="558" y1="156" x2="385" y2="214" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
<line x1="622" y1="156" x2="789" y2="214" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>

<!-- LEVEL-1 NODES -->
<circle cx="367" cy="232" r="18"
        fill="rgba(6,182,212,0.09)" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
<circle cx="807" cy="232" r="18"
        fill="rgba(6,182,212,0.09)" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>

<!-- level-1 → leaf branches -->
<line x1="351" y1="248" x2="252" y2="288" stroke="rgba(6,182,212,0.45)" stroke-width="1.5"/>
<line x1="383" y1="248" x2="482" y2="288" stroke="rgba(6,182,212,0.45)" stroke-width="1.5"/>
<line x1="791" y1="248" x2="692" y2="288" stroke="rgba(6,182,212,0.45)" stroke-width="1.5"/>
<line x1="823" y1="248" x2="922" y2="288" stroke="rgba(6,182,212,0.45)" stroke-width="1.5"/>

<!-- LEAVES -->
<!-- Leaf 0: Coinbase Tx (bright cyan, leftmost) -->
<rect x="192" y="288" width="110" height="44" rx="6"
      fill="rgba(6,182,212,0.12)" stroke="rgba(6,182,212,0.65)" stroke-width="1.5"/>
<text x="247" y="310" text-anchor="middle" dominant-baseline="central"
      fill="#22d3ee" font-family="JetBrains Mono" font-size="9" font-weight="bold">Coinbase</text>

<!-- Leaf 1: Tx₁ -->
<rect x="432" y="288" width="110" height="44" rx="6"
      fill="rgba(6,182,212,0.05)" stroke="rgba(6,182,212,0.28)" stroke-width="1.5"/>
<text x="487" y="315" text-anchor="middle"
      fill="rgba(6,182,212,0.45)" font-family="JetBrains Mono" font-size="11" font-weight="bold">Tx₁</text>

<!-- Leaf 2: Tx₂ -->
<rect x="632" y="288" width="110" height="44" rx="6"
      fill="rgba(6,182,212,0.05)" stroke="rgba(6,182,212,0.28)" stroke-width="1.5"/>
<text x="687" y="315" text-anchor="middle"
      fill="rgba(6,182,212,0.45)" font-family="JetBrains Mono" font-size="11" font-weight="bold">Tx₂</text>

<!-- Leaf 3: Tx₃ -->
<rect x="872" y="288" width="110" height="44" rx="6"
      fill="rgba(6,182,212,0.05)" stroke="rgba(6,182,212,0.28)" stroke-width="1.5"/>
<text x="927" y="315" text-anchor="middle"
      fill="rgba(6,182,212,0.45)" font-family="JetBrains Mono" font-size="11" font-weight="bold">Tx₃</text>


<!-- ═══════════════════════════════════════════════
     COINBASE TRANSACTION BOX
     x=37..457  y=348..465  (width=420, height=117)
     4 cells of 105px:
       coinbase1  x=37..142   centre=89
       extranonce1 x=142..247  centre=194
       extranonce2 x=247..352  centre=299  ← orange
       coinbase2  x=352..457  centre=404
═══════════════════════════════════════════════════ -->

<!-- connector: CoinbaseTx leaf → box -->
<line x1="247" y1="332" x2="247" y2="348"
      stroke="rgba(6,182,212,0.4)" stroke-width="1.5"/>

<!-- extranonce2 cell fill -->
<rect x="247" y="348" width="105" height="117" fill="rgba(245,158,11,0.08)"/>

<!-- outer box -->
<rect x="37" y="348" width="420" height="117" rx="7"
      fill="rgba(6,182,212,0.05)" stroke="rgba(6,182,212,0.4)" stroke-width="1.5"/>

<!-- title bar fill -->
<rect x="37" y="348" width="420" height="26" rx="7"
      fill="rgba(6,182,212,0.13)"/>
<rect x="37" y="362" width="420" height="12" fill="rgba(6,182,212,0.13)"/>
<text x="247" y="365" text-anchor="middle"
      fill="#22d3ee" font-family="JetBrains Mono" font-size="11" font-weight="bold">Coinbase Transaction</text>

<!-- title / fields divider -->
<line x1="37" y1="374" x2="457" y2="374" stroke="rgba(6,182,212,0.3)" stroke-width="1"/>

<!-- cell dividers -->
<line x1="142" y1="374" x2="142" y2="465" stroke="rgba(6,182,212,0.2)"   stroke-width="1"/>
<line x1="247" y1="374" x2="247" y2="465" stroke="rgba(6,182,212,0.2)"   stroke-width="1"/>
<line x1="352" y1="374" x2="352" y2="465" stroke="rgba(245,158,11,0.25)" stroke-width="1"/>

<!-- field names (centred in field area y=374..465, text at y=419) -->
<text x="89"  y="422" text-anchor="middle" fill="rgba(6,182,212,0.5)"
      font-family="JetBrains Mono" font-size="12" font-weight="bold">coinbase1</text>
<text x="194" y="422" text-anchor="middle" fill="rgba(6,182,212,0.5)"
      font-family="JetBrains Mono" font-size="12" font-weight="bold">extranonce1</text>
<text x="299" y="422" text-anchor="middle" fill="#fcd34d"
      font-family="JetBrains Mono" font-size="12" font-weight="bold">extranonce2</text>
<text x="404" y="422" text-anchor="middle" fill="rgba(6,182,212,0.5)"
      font-family="JetBrains Mono" font-size="12" font-weight="bold">coinbase2</text>

<!-- re-draw coinbase outer border on top -->
<rect x="37" y="348" width="420" height="117" rx="7"
      fill="none" stroke="rgba(6,182,212,0.4)" stroke-width="1.5"/>


<!-- ═══════════════════════════════════════════════
     MINER CHIP  centre ≈ (1015, 414)
     top-left at (945, 385), 140×58
═══════════════════════════════════════════════════ -->
<g transform="translate(945,390)">
    <rect width="140" height="58" rx="8"
          fill="rgba(6,182,212,0.07)" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
    <line x1="35"  y1="0"  x2="35"  y2="-9" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="70"  y1="0"  x2="70"  y2="-9" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="105" y1="0"  x2="105" y2="-9" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="35"  y1="58" x2="35"  y2="67" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="70"  y1="58" x2="70"  y2="67" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="105" y1="58" x2="105" y2="67" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="0"   y1="18" x2="-9"  y2="18" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="0"   y1="40" x2="-9"  y2="40" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="140" y1="18" x2="149" y2="18" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <line x1="140" y1="40" x2="149" y2="40" stroke="rgba(6,182,212,0.4)" stroke-width="2"/>
    <rect x="14" y="10" width="112" height="38" rx="4"
          fill="none" stroke="rgba(6,182,212,0.2)" stroke-width="1"/>
    <text x="70" y="34" text-anchor="middle"
          fill="rgba(6,182,212,0.9)" font-family="JetBrains Mono" font-size="13" font-weight="bold">MINER</text>
</g>


<!-- ═══════════════════════════════════════════════
     FAINT MUTATION LINES  (dashed orange)
     Miner centre ≈ (1015, 419)

     → extranonce2 right edge (x=352, y=419)
     → ntime cell bottom centre (x=760, y=100)
     → nonce cell bottom centre (x=1075, y=100)
═══════════════════════════════════════════════════ -->

<!-- miner → extranonce2 -->
<path d="M945,416 C860,416 600,416 352,416"
      fill="none" stroke="rgba(245,158,11,0.3)" stroke-width="1.5" stroke-dasharray="5,4"/>

<!-- miner → ntime -->
<path d="M985,390 C985,270 890,165 760,100"
      fill="none" stroke="rgba(245,158,11,0.25)" stroke-width="1.5" stroke-dasharray="5,4"/>

<!-- miner → nonce -->
<path d="M1048,390 C1048,260 1065,160 1075,100"
      fill="none" stroke="rgba(245,158,11,0.25)" stroke-width="1.5" stroke-dasharray="5,4"/>

</svg>
</main>

<script src="slides.js"></script>
<script src="navigate.js"></script>
</body>
</html>
