<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Key Authenticity: Static Key Pinning</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&amp;family=Space+Grotesk:wght@500;700&amp;family=JetBrains+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
<style>
    body { margin:0; padding:0; overflow:hidden; background-color:#09090b; font-family:'Inter',sans-serif; }
    .bg-grid {
        position:absolute; inset:0; z-index:1;
        background-image:
            linear-gradient(rgba(6,182,212,0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6,182,212,0.07) 1px, transparent 1px);
        background-size:30px 30px; opacity:0.5;
    }
    .slide-container {
        width:1280px; height:720px;
        position:relative; display:flex; flex-direction:column;
        color:#F8FAFC; overflow:hidden;
    }
    .mono-font { font-family:'JetBrains Mono',monospace; }
</style>
</head>
<body>
<div class="bg-grid"></div>
<div class="slide-container">

<!-- Header -->
<div class="relative z-10 px-12 pt-7 pb-3 flex items-end justify-between"
     style="border-bottom:1px solid rgba(6,182,212,0.2); background:rgba(0,0,0,0.5);">
    <div>
        <div class="flex items-center space-x-3 mb-2">
            <span class="px-2 py-1 text-xs font-bold rounded mono-font"
                  style="background:rgba(6,182,212,0.12); color:#22d3ee; border:1px solid rgba(6,182,212,0.35);">
                CRYPTO
            </span>
            <span class="text-xs mono-font" style="color:rgba(6,182,212,0.5);">// KEY AUTHENTICITY: THE FIX</span>
        </div>
        <h1 class="text-3xl font-black tracking-tight text-white uppercase"
            style="font-family:'Space Grotesk',sans-serif; letter-spacing:-0.02em;">
            Solution: <span style="color:#22d3ee;">Static Key Pinning</span>
        </h1>
    </div>
    <div class="text-right">
        <p class="text-sm mono-font" style="color:rgba(148,163,184,0.7);">
            Identity Pinning · Out-of-band · Signature Verification
        </p>
    </div>
</div>

<!-- Main Content -->
<div class="relative z-10 flex-1 px-10 py-3 flex items-center justify-center overflow-hidden" style="min-height:0;">
    <!--
        Same layout as encryption-isnt-enough.html. All entities at y=78.
        LEFT  (Miner ↔ Attacker):
          y=63  pubkey_M: Miner → Attacker (cyan)       ← attacker intercepts
          y=93  pubkey_A: Attacker → Miner (red DASHED) ← BLOCKED: not signed by sk_pool
        RIGHT (Attacker ↔ Pool — dimmed, irrelevant since attack already fails):
          y=63  pubkey_A': Attacker → Pool (red, faded)
          y=93  pubkey_P:  Pool → Attacker (cyan, faded)
        Miner has pk_pool pinned (green badge); Pool has sk_pool (green badge).
    -->
    <svg viewBox="0 0 900 200" width="100%" height="100%"
         preserveAspectRatio="xMidYMid meet"
         xmlns="http://www.w3.org/2000/svg"
         style="font-family:'JetBrains Mono',monospace; overflow:visible;">
        <defs>
            <!-- Cyan arrowhead -->
            <marker id="aC" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L8,4 L0,8 Z" fill="rgba(6,182,212,0.65)"/>
            </marker>
            <!-- Red arrowhead (blocked) -->
            <marker id="aR" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L8,4 L0,8 Z" fill="rgba(239,68,68,0.7)"/>
            </marker>
            <!-- Dimmed red arrowhead (right-side, secondary) -->
            <marker id="aRd" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L8,4 L0,8 Z" fill="rgba(239,68,68,0.25)"/>
            </marker>
            <!-- Dimmed cyan arrowhead (right-side, secondary) -->
            <marker id="aCd" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto">
                <path d="M0,0 L8,4 L0,8 Z" fill="rgba(6,182,212,0.25)"/>
            </marker>
            <filter id="rGlow">
                <feGaussianBlur stdDeviation="3" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="gGlow">
                <feGaussianBlur stdDeviation="3" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- ── MINER chip (scale 1.3, centred at (110,78)) ── -->
        <!-- right rect edge x=201; side pins to x≈217 -->
        <g transform="translate(110,78) scale(1.3)">
            <rect x="-70" y="-29" width="140" height="58" rx="8"
                  fill="rgba(6,182,212,0.07)" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="-35" y1="-29" x2="-35" y2="-40" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="0"   y1="-29" x2="0"   y2="-40" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="35"  y1="-29" x2="35"  y2="-40" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="-35" y1="29"  x2="-35" y2="40"  stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="0"   y1="29"  x2="0"   y2="40"  stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="35"  y1="29"  x2="35"  y2="40"  stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="-70" y1="-10" x2="-82" y2="-10" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="-70" y1="10"  x2="-82" y2="10"  stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="70"  y1="-10" x2="82"  y2="-10" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <line x1="70"  y1="10"  x2="82"  y2="10"  stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
            <rect x="-56" y="-19" width="112" height="38" rx="4"
                  fill="none" stroke="rgba(6,182,212,0.2)" stroke-width="1"/>
            <text x="0" y="5" text-anchor="middle" font-family="'JetBrains Mono',monospace"
                  font-size="14" font-weight="bold" fill="rgba(6,182,212,0.9)">MINER</text>
        </g>

        <!-- Miner "pinned pk_pool" badge — configured out-of-band before connection -->
        <rect x="31" y="118" width="158" height="20" rx="5"
              fill="rgba(2,20,12,0.85)" stroke="rgba(34,197,94,0.65)" stroke-width="1.2"
              filter="url(#gGlow)"/>
        <text x="110" y="132" text-anchor="middle" font-family="'JetBrains Mono',monospace"
              font-size="8.5" fill="#4ade80" font-weight="700">&#x1F4CC; pinned: pk_pool</text>

        <!-- ── ATTACKER — centred at (450,78), same baseline as Miner &amp; Pool ── -->
        <!-- Box: x=380–520, y=45–111 (height=66). Style: sv2-security-by-design. -->
        <g transform="translate(450,78)">
            <rect x="-70" y="-33" width="140" height="66" rx="8"
                  fill="rgba(69,10,10,0.85)" stroke="#EF4444" stroke-width="1.5"
                  filter="url(#rGlow)"/>
            <text x="0" y="-2" text-anchor="middle" font-size="24" fill="#F87171">&#x2620;</text>
            <text x="0" y="17" text-anchor="middle" font-family="'JetBrains Mono',monospace"
                  font-size="10" font-weight="700" fill="#FCA5A5" letter-spacing="1">ATTACKER</text>
            <text x="0" y="28" text-anchor="middle" font-family="'JetBrains Mono',monospace"
                  font-size="8" fill="rgba(248,113,113,0.6)">(MITM)</text>
        </g>

        <!-- ── POOL cloud (scale 1.2, centred at (792,78)) ── -->
        <!-- left cloud edge ≈ x=695 -->
        <g transform="translate(792,78) scale(1.2)">
            <path d="M-81,20 Q-90,-13 -55,-20 Q-46,-48 -18,-41 Q-4,-62 27,-49 Q43,-62 69,-41 Q90,-27 84,4 Q97,14 88,34 Q76,50 50,46 L-50,46 Q-78,46 -81,20 Z"
                  fill="rgba(6,182,212,0.08)" stroke="rgba(6,182,212,0.55)" stroke-width="2"/>
            <text x="0" y="12" text-anchor="middle" font-family="'JetBrains Mono',monospace"
                  font-size="14" font-weight="bold" fill="#22d3ee">POOL</text>
        </g>

        <!-- Pool "sk_pool" badge — static identity keypair -->
        <rect x="713" y="118" width="158" height="20" rx="5"
              fill="rgba(2,20,12,0.85)" stroke="rgba(34,197,94,0.65)" stroke-width="1.2"
              filter="url(#gGlow)"/>
        <text x="792" y="132" text-anchor="middle" font-family="'JetBrains Mono',monospace"
              font-size="8.5" fill="#4ade80" font-weight="700">&#x1F511; static: sk_pool</text>

        <!-- ── TOP ARROWS (y=63) ── -->

        <!-- pubkey_M: Miner → Attacker (cyan) — Miner sends its ephemeral pubkey -->
        <line x1="201" y1="63" x2="378" y2="63"
              stroke="rgba(6,182,212,0.65)" stroke-width="1.8" marker-end="url(#aC)"/>
        <text x="290" y="56" text-anchor="middle" font-size="10" fill="#A5F3FC">pubkey_M</text>

        <!-- pubkey_A': Attacker → Pool (dimmed — secondary story) -->
        <line x1="522" y1="63" x2="693" y2="63"
              stroke="rgba(239,68,68,0.22)" stroke-width="1.4" marker-end="url(#aRd)"/>
        <text x="607" y="56" text-anchor="middle" font-size="10" fill="rgba(239,68,68,0.28)">pubkey_A&#x2032;</text>

        <!-- ── BOTTOM ARROWS (y=93) ── -->

        <!-- pubkey_A (fake): Attacker → Miner (dashed red — BLOCKED) -->
        <!-- Arrow terminates near miner; BLOCKED badge overlaid at miner end. -->
        <line x1="380" y1="93" x2="203" y2="93"
              stroke="rgba(239,68,68,0.55)" stroke-width="1.8" stroke-dasharray="5,4"
              marker-end="url(#aR)"/>
        <!-- BLOCKED badge overlaid at miner side (x=205–303) -->
        <rect x="205" y="83" width="98" height="19" rx="4"
              fill="rgba(69,10,10,0.95)" stroke="#EF4444" stroke-width="1.3"/>
        <text x="254" y="97" text-anchor="middle" font-family="'JetBrains Mono',monospace"
              font-size="8.5" fill="#FCA5A5" font-weight="700">&#x1F6AB; REJECTED</text>
        <!-- Arrow label to the right of badge, before attacker -->
        <text x="342" y="107" text-anchor="middle" font-size="10" fill="rgba(239,68,68,0.55)">pubkey_A (fake)</text>

        <!-- pubkey_P: Pool → Attacker (dimmed — secondary story) -->
        <line x1="695" y1="93" x2="523" y2="93"
              stroke="rgba(6,182,212,0.2)" stroke-width="1.4" marker-end="url(#aCd)"/>
        <text x="607" y="107" text-anchor="middle" font-size="10" fill="rgba(6,182,212,0.25)">pubkey_P</text>

        <!-- ── BOTTOM BOXES ── -->

        <!-- Left (x=290): Verification FAILS — attack blocked -->
        <rect x="218" y="120" width="144" height="52" rx="7"
              fill="rgba(127,29,29,0.35)" stroke="rgba(239,68,68,0.7)" stroke-width="1.8"
              filter="url(#rGlow)"/>
        <text x="290" y="138" text-anchor="middle"
              font-family="'Space Grotesk',sans-serif" font-size="11" fill="#fca5a5" font-weight="700">&#x26D4; Verify FAILS</text>
        <text x="290" y="153" text-anchor="middle"
              font-family="'JetBrains Mono',monospace" font-size="9" fill="#ef4444">pubkey_A &#x2260; signed(sk_pool)</text>
        <text x="290" y="165" text-anchor="middle"
              font-family="'JetBrains Mono',monospace" font-size="8" fill="rgba(239,68,68,0.6)">attacker lacks sk_pool</text>

        <!-- Right (x=607): Identity anchored — pool's static key is the root of trust -->
        <rect x="535" y="120" width="144" height="52" rx="7"
              fill="rgba(2,30,15,0.55)" stroke="rgba(34,197,94,0.6)" stroke-width="1.8"
              filter="url(#gGlow)"/>
        <text x="607" y="138" text-anchor="middle"
              font-family="'Space Grotesk',sans-serif" font-size="11" fill="#4ade80" font-weight="700">&#x2705; Identity Anchored</text>
        <text x="607" y="153" text-anchor="middle"
              font-family="'JetBrains Mono',monospace" font-size="9" fill="#86efac">miner knows pk_pool</text>
        <text x="607" y="165" text-anchor="middle"
              font-family="'JetBrains Mono',monospace" font-size="8" fill="rgba(134,239,172,0.7)">configured out-of-band</text>

        <!-- ── Bottom note ── -->
        <text x="450" y="196" text-anchor="middle" font-size="9" font-weight="700"
              fill="rgba(34,197,94,0.6)" letter-spacing="1">
            &#x2714; MINER REJECTS ANY KEY NOT PROVABLY SIGNED BY THE PINNED sk_pool
        </text>

    </svg>
</div>

</div>
<script src="slides.js"></script>
<script src="navigate.js"></script>
</body>
</html>
