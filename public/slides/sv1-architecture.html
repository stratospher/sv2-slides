<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Basic SV1 Setup Architecture</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Space+Grotesk:wght@500;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    :root {
        --cyan-400: #22d3ee;
        --cyan-500: #06b6d4;
        --cyan-600: #0891b2;
        --blue-600: #2563eb;
    }
    body {
        width: 1280px;
        height: 720px;
        overflow: hidden;
        font-family: 'Inter', sans-serif;
        background-color: #000000;
        color: #F8FAFC;
        position: relative;
    }

    /* ── Blurred gradient orbs (stratumprotocol.org hero) ── */
        50%       { opacity: 0.06; transform: scale(1.04); }
    }

    .bg-grid {
        position: absolute; inset: 0; z-index: 1;
        background-image:
            linear-gradient(rgba(6, 182, 212, 0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6, 182, 212, 0.07) 1px, transparent 1px);
        background-size: 30px 30px;
        opacity: 0.5;
    }

    .glass-panel {
        background: rgba(0, 0, 0, 0.45);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(6, 182, 212, 0.18);
        box-shadow: 0 0 40px rgba(6, 182, 212, 0.04);
    }

    .mono-font { font-family: 'JetBrains Mono', monospace; }
</style>
</head>
<body class="relative flex flex-col justify-between">

<!-- Gradient orbs -->
<!-- Grid -->
<div class="bg-grid"></div>

<!-- Header -->
<header class="relative z-10 px-16 pt-9 pb-4 flex items-end justify-between"
        style="border-bottom: 1px solid rgba(6,182,212,0.2); background: rgba(0,0,0,0.5);">
    <div>
        <div class="flex items-center space-x-3 mb-2">
            <span class="px-2 py-1 font-bold rounded mono-font"
                  style="font-size:1.125rem; background: rgba(6,182,212,0.15); color: #22d3ee; border: 1px solid rgba(6,182,212,0.3);">
                INFRASTRUCTURE
            </span>
            <span class="mono-font" style="font-size:1.125rem; color: rgba(6,182,212,0.5);">// PORT 3333</span>
        </div>
        <h1 class="font-black tracking-tight text-white uppercase"
            style="font-size:2.81rem; font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.02em;">
            Stratum V1 <span style="color: var(--cyan-400);">Protocol</span>
        </h1>
    </div>
    <div class="text-right">
        <p class="max-w-md text-right mono-font" style="font-size:1.31rem; color: rgba(148,163,184,0.7);">
            Network topology of a typical Stratum V1 deployment
        </p>
    </div>
</header>

<!-- Main Diagram -->
<main class="relative z-10 flex-1 w-full flex items-center justify-center p-8">
    <div class="w-full h-full relative glass-panel rounded-xl">
        <svg width="100%" height="100%" viewBox="0 0 1152 480"
             preserveAspectRatio="xMidYMid meet">
            <defs>
                <!-- Cyan arrowhead -->
                <marker id="arrowCyan" markerWidth="10" markerHeight="7"
                        refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4"/>
                </marker>
                <!-- Lighter cyan arrowhead (upstream) -->
                <marker id="arrowCyanLight" markerWidth="10" markerHeight="7"
                        refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#22d3ee"/>
                </marker>
            </defs>

            <!-- TCP tunnel background -->
            <rect x="320" y="220" width="512" height="60" rx="4"
                  fill="rgba(0,0,0,0.5)" stroke="rgba(6,182,212,0.1)" stroke-width="1"/>
            <text font-family="JetBrains Mono" font-size="17" fill="rgba(6,182,212,0.4)"
                  text-anchor="middle" x="576" y="212">TCP Socket Connection</text>

            <!-- ══ MINER node ══ -->
            <g transform="translate(100, 140)">
                <rect x="0" y="0" width="220" height="300" rx="12"
                      fill="rgba(6,182,212,0.06)" stroke="#06b6d4" stroke-width="2"
                      filter="drop-shadow(0 4px 12px rgba(6,182,212,0.2))"/>
                <!-- icon bg -->
                <rect x="85" y="28" width="50" height="50" rx="6"
                      fill="rgba(6,182,212,0.12)" stroke="rgba(6,182,212,0.3)" stroke-width="1"/>
                <text x="110" y="62" text-anchor="middle" font-size="33" fill="#22d3ee">⬡</text>
                <!-- Title -->
                <text x="110" y="100" text-anchor="middle"
                      font-family="Space Grotesk" font-size="24" font-weight="700" fill="#F8FAFC">
                    MINING DEVICE
                </text>
                <text x="110" y="118" text-anchor="middle"
                      font-family="JetBrains Mono" font-size="15" fill="rgba(148,163,184,0.7)">
                    Worker / ASIC
                </text>
                <!-- Capabilities -->
                <foreignObject x="20" y="130" width="180" height="160">
                    <div class="space-y-1 pt-2" xmlns="http://www.w3.org/1999/xhtml">
                        <div class="flex items-center font-mono" style="font-size:1.125rem;" style="color:#94a3b8;">
                            <span style="width:7px;height:7px;background:#06b6d4;border-radius:50%;display:inline-block;margin-right:8px;flex-shrink:0;"></span>
                            Subscribe
                        </div>
                        <div class="flex items-center font-mono" style="font-size:1.125rem;" style="color:#94a3b8;">
                            <span style="width:7px;height:7px;background:#06b6d4;border-radius:50%;display:inline-block;margin-right:8px;flex-shrink:0;"></span>
                            Authorize
                        </div>
                        <div class="flex items-center font-mono" style="font-size:1.125rem;" style="color:#94a3b8;">
                            <span style="width:7px;height:7px;background:#22d3ee;border-radius:50%;display:inline-block;margin-right:8px;flex-shrink:0;"></span>
                            Submit Share
                        </div>
                    </div>
                </foreignObject>
            </g>

            <!-- ══ POOL cloud ══ -->
            <g transform="translate(960, 255) scale(1.3)">
                <path d="M-115,28 Q-128,-18 -78,-28 Q-65,-68 -25,-58 Q-5,-88 38,-70 Q62,-88 98,-58 Q128,-38 120,5 Q138,20 125,48 Q108,72 72,65 L-72,65 Q-112,65 -115,28 Z"
                      fill="rgba(6,182,212,0.08)" stroke="rgba(6,182,212,0.55)" stroke-width="2"/>
                <text x="0" y="8" text-anchor="middle"
                      font-family="JetBrains Mono" font-size="17" font-weight="bold" fill="#22d3ee">POOL SERVER</text>
                <text x="0" y="28" text-anchor="middle"
                      font-family="JetBrains Mono" font-size="14" fill="rgba(148,163,184,0.45)">Job Coordinator</text>
            </g>

            <!-- ══ Downstream arrow: Pool → Miner (mining.notify) ══ -->
            <path d="M 800 240 L 350 240"
                  stroke="#06b6d4" stroke-width="2" fill="none"
                  marker-end="url(#arrowCyan)"/>
            <rect x="489" y="224" width="175" height="30" rx="5"
                  fill="rgba(0,0,0,0.6)" stroke="rgba(6,182,212,0.35)" stroke-width="1"/>
            <text font-family="JetBrains Mono" font-size="17" font-weight="500"
                  fill="#06b6d4" text-anchor="middle" x="576" y="244">mining.notify</text>

            <!-- ══ Upstream arrow: Miner → Pool (mining.submit) ══ -->
            <path d="M 350 265 L 800 265"
                  stroke="#22d3ee" stroke-width="2" fill="none"
                  marker-end="url(#arrowCyanLight)"/>
            <rect x="489" y="255" width="175" height="30" rx="5"
                  fill="rgba(0,0,0,0.6)" stroke="rgba(34,211,238,0.35)" stroke-width="1"/>
            <text font-family="JetBrains Mono" font-size="17" font-weight="500"
                  fill="#22d3ee" text-anchor="middle" x="576" y="275">mining.submit</text>

            <!-- ══ Warning badge ══ -->
            <g transform="translate(576, 300)">
                <rect x="-115" y="0" width="230" height="30" rx="12"
                      fill="rgba(239,68,68,0.08)" stroke="#EF4444" stroke-dasharray="3,2" stroke-width="1"/>
                <text font-family="JetBrains Mono" font-size="15" fill="#EF4444"
                      text-anchor="middle" x="0" y="20">⚠  Unencrypted Channel</text>
            </g>
        </svg>
    </div>
</main>

<script src="slides.js"></script>
<script src="navigate.js"></script>
</body>
</html>
