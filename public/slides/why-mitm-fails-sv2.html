<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Why MITM Fails Under SV2</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Space+Grotesk:wght@500;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<style>
    :root {
        --cyan-400: #22d3ee;
        --cyan-500: #06b6d4;
        --cyan-600: #0891b2;
        --blue-600: #2563eb;
    }
    body { margin:0; padding:0; overflow:hidden; background-color:#09090b; font-family:'Inter',sans-serif; }
        50%    { opacity:0.06; transform:scale(1.04); }
    }
    .bg-grid {
        position:absolute; inset:0; z-index:1;
        background-image:
            linear-gradient(rgba(6,182,212,0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(6,182,212,0.07) 1px, transparent 1px);
        background-size:30px 30px; opacity:0.5;
    }
    .slide-container {
        width:1280px; height:720px;
        position:relative; display:flex; flex-direction:column;
        color:#F8FAFC; overflow:hidden;
    }
    .mono-font { font-family:'JetBrains Mono',monospace; }

    /* Defense cards */
    .defense-card {
        display:flex; align-items:flex-start; gap:0.75rem;
        background:rgba(0,0,0,0.4); backdrop-filter:blur(8px);
        border:1px solid rgba(6,182,212,0.15);
        border-left:3px solid #22d3ee;
        border-radius:0 0.6rem 0.6rem 0;
        padding:0.75rem 1rem;
    }
    .defense-icon {
        width:2rem; height:2rem; flex-shrink:0; border-radius:6px;
        background:rgba(6,182,212,0.12); border:1px solid rgba(6,182,212,0.3);
        display:flex; align-items:center; justify-content:center;
        color:#22d3ee; font-size:0.85rem; margin-top:0.1rem;
    }
    .defense-title {
        font-family:'Space Grotesk',sans-serif; font-weight:700; font-size:0.95rem;
        color:#F8FAFC; margin-bottom:0.2rem;
    }
    .defense-tag {
        font-family:'JetBrains Mono',monospace; font-size:0.68rem;
        color:rgba(6,182,212,0.7); text-transform:uppercase; letter-spacing:0.06em;
    }
    .defense-body {
        font-size:0.82rem; color:rgba(148,163,184,0.85); line-height:1.45; margin-top:0.25rem;
    }
</style>
</head>
<body>
<div class="bg-grid"></div>

<div class="slide-container">

<!-- Header -->
<div class="relative z-10 px-12 pt-7 pb-3 flex items-end justify-between"
     style="border-bottom:1px solid rgba(6,182,212,0.2); background:rgba(0,0,0,0.5);">
    <div>
        <div class="flex items-center space-x-3 mb-2">
            <span class="px-2 py-1 text-xs font-bold rounded mono-font"
                  style="background:rgba(6,182,212,0.12); color:#22d3ee; border:1px solid rgba(6,182,212,0.35);">
                SV2
            </span>
            <span class="text-xs mono-font" style="color:rgba(6,182,212,0.5);">// MITM PROTECTION</span>
        </div>
        <h1 class="text-3xl font-black tracking-tight text-white uppercase"
            style="font-family:'Space Grotesk',sans-serif; letter-spacing:-0.02em;">
            Why MITM <span style="color:#22d3ee;">Fails Under SV2</span>
        </h1>
    </div>
    <div class="text-right">
        <p class="text-sm mono-font" style="color:rgba(148,163,184,0.7);">
            Confidentiality Â· Integrity Â· Authenticity
        </p>
    </div>
</div>

<!-- Main Content -->
<div class="relative z-10 flex-1 px-12 py-5 flex gap-8 overflow-hidden" style="min-height:0;">

    <!-- Left: SVG Diagram -->
    <div class="rounded-xl flex items-center justify-center"
         style="flex:1.1; background:rgba(0,0,0,0.45); backdrop-filter:blur(10px); border:1px solid rgba(6,182,212,0.18); padding:1rem;">
    <svg viewBox="0 0 480 340" width="100%" height="100%"
         preserveAspectRatio="xMidYMid meet"
         xmlns="http://www.w3.org/2000/svg"
         style="font-family:'JetBrains Mono',monospace; overflow:visible;">
        <defs>
            <marker id="arrowC" markerWidth="7" markerHeight="7" refX="6" refY="3.5" orient="auto">
                <path d="M0,0 L7,3.5 L0,7 Z" fill="rgba(6,182,212,0.5)"/>
            </marker>
            <marker id="arrowR" markerWidth="7" markerHeight="7" refX="6" refY="3.5" orient="auto">
                <path d="M0,0 L7,3.5 L0,7 Z" fill="#EF4444"/>
            </marker>
            <filter id="cGlow">
                <feGaussianBlur stdDeviation="4" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="rGlow">
                <feGaussianBlur stdDeviation="3" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
        </defs>

        <!-- â”€â”€ Encrypted Tunnel (main channel, vertically centered) â”€â”€ -->
        <!-- Tunnel background glow -->
        <rect x="112" y="183" width="256" height="14" rx="7"
              fill="rgba(6,182,212,0.08)" stroke="none"/>
        <rect x="112" y="185" width="256" height="10" rx="5"
              fill="rgba(6,182,212,0.15)" stroke="rgba(6,182,212,0.3)" stroke-width="0.8"/>
        <!-- Lock icons on tunnel -->
        <circle cx="200" cy="190" r="10" fill="rgba(14,79,95,0.9)" stroke="#22d3ee" stroke-width="1.5"/>
        <text x="200" y="194" text-anchor="middle" font-size="9" fill="#22d3ee">ðŸ”’</text>
        <circle cx="280" cy="190" r="10" fill="rgba(14,79,95,0.9)" stroke="#22d3ee" stroke-width="1.5"/>
        <text x="280" y="194" text-anchor="middle" font-size="9" fill="#22d3ee">ðŸ”’</text>
        <!-- "ENCRYPTED" label on tunnel -->
        <rect x="215" y="198" width="50" height="12" rx="3" fill="rgba(0,0,0,0.7)"/>
        <text x="240" y="207.5" text-anchor="middle" font-size="6.5" fill="rgba(6,182,212,0.7)" font-weight="700" letter-spacing="1">ENCRYPTED</text>

        <!-- â”€â”€ MINER (left) â”€â”€ -->
        <rect x="12" y="165" width="100" height="50" rx="8"
              fill="rgba(14,79,95,0.35)" stroke="#22d3ee" stroke-width="1.8" filter="url(#cGlow)"/>
        <text x="62" y="184" text-anchor="middle" font-size="18" fill="#06b6d4">â¬¡</text>
        <text x="62" y="200" text-anchor="middle" font-size="9" fill="#A5F3FC" font-weight="700" letter-spacing="1">MINER</text>
        <text x="62" y="212" text-anchor="middle" font-size="7" fill="rgba(148,163,184,0.5)">SV2 Client</text>

        <!-- POOL (right) -->
        <rect x="368" y="165" width="100" height="50" rx="8"
              fill="rgba(14,79,95,0.35)" stroke="#22d3ee" stroke-width="1.8" filter="url(#cGlow)"/>
        <text x="418" y="184" text-anchor="middle" font-size="18" fill="#06b6d4">â–£</text>
        <text x="418" y="200" text-anchor="middle" font-size="9" fill="#A5F3FC" font-weight="700" letter-spacing="1">POOL</text>
        <text x="418" y="212" text-anchor="middle" font-size="7" fill="rgba(148,163,184,0.5)">SV2 Server</text>

        <!-- Miner â†’ tunnel arrow -->
        <line x1="112" y1="190" x2="125" y2="190" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>
        <!-- Pool â† tunnel arrow -->
        <line x1="355" y1="190" x2="368" y2="190" stroke="rgba(6,182,212,0.5)" stroke-width="1.5"/>

        <!-- â”€â”€ MITM ATTACKER (centre, above tunnel, trying to intercept) â”€â”€ -->
        <rect x="185" y="35" width="110" height="65" rx="8"
              fill="rgba(69,10,10,0.85)" stroke="#EF4444" stroke-width="2" filter="url(#rGlow)"/>
        <text x="240" y="62"  text-anchor="middle" font-size="22" fill="#F87171">â˜ </text>
        <text x="240" y="80"  text-anchor="middle" font-size="9" fill="#FCA5A5" font-weight="700" letter-spacing="1">MITM ATTACKER</text>
        <text x="240" y="93"  text-anchor="middle" font-size="7" fill="rgba(248,113,113,0.6)">intercept attempt</text>

        <!-- Attack arrow downward toward tunnel (blocked) -->
        <line x1="240" y1="100" x2="240" y2="150"
              stroke="#EF4444" stroke-width="2" stroke-dasharray="5,3"
              marker-end="url(#arrowR)"/>

        <!-- BLOCKED shield badge -->
        <rect x="194" y="144" width="92" height="22" rx="5"
              fill="rgba(69,10,10,0.9)" stroke="#EF4444" stroke-width="1.5"/>
        <text x="240" y="158" text-anchor="middle" font-size="9" fill="#FCA5A5" font-weight="700" letter-spacing="0.5">ðŸš« BLOCKED</text>

        <!-- Why blocked: 3 failure reasons below -->
        <!-- Failure 1: Can't Decrypt -->
        <rect x="12" y="240" width="138" height="48" rx="6"
              fill="rgba(0,0,0,0.5)" stroke="rgba(6,182,212,0.2)" stroke-width="1"/>
        <text x="81" y="258" text-anchor="middle" font-size="9" fill="#22d3ee" font-weight="700">ðŸ”‘ No Session Keys</text>
        <text x="81" y="272" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">DH exchange excludes</text>
        <text x="81" y="283" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">on-path attackers</text>

        <!-- Failure 2: Tamper fails AEAD -->
        <rect x="171" y="240" width="138" height="48" rx="6"
              fill="rgba(0,0,0,0.5)" stroke="rgba(6,182,212,0.2)" stroke-width="1"/>
        <text x="240" y="258" text-anchor="middle" font-size="9" fill="#22d3ee" font-weight="700">ðŸ›¡ AEAD Tag Fails</text>
        <text x="240" y="272" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">Any modification is</text>
        <text x="240" y="283" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">instantly detected</text>

        <!-- Failure 3: Can't impersonate -->
        <rect x="330" y="240" width="138" height="48" rx="6"
              fill="rgba(0,0,0,0.5)" stroke="rgba(6,182,212,0.2)" stroke-width="1"/>
        <text x="399" y="258" text-anchor="middle" font-size="9" fill="#22d3ee" font-weight="700">ðŸªª No Private Key</text>
        <text x="399" y="272" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">Handshake fails without</text>
        <text x="399" y="283" text-anchor="middle" font-size="8" fill="rgba(148,163,184,0.7)">pool's authority key</text>

        <!-- Dotted lines from BLOCKED to failure reasons -->
        <line x1="215" y1="166" x2="81"  y2="240" stroke="rgba(239,68,68,0.2)" stroke-width="1" stroke-dasharray="4,3"/>
        <line x1="240" y1="166" x2="240" y2="240" stroke="rgba(239,68,68,0.2)" stroke-width="1" stroke-dasharray="4,3"/>
        <line x1="265" y1="166" x2="399" y2="240" stroke="rgba(239,68,68,0.2)" stroke-width="1" stroke-dasharray="4,3"/>
    </svg>
    </div>

    <!-- Right: Defense Cards + Threats Neutralized -->
    <div style="flex:0.9;" class="flex flex-col justify-between gap-3">

        <div class="defense-card">
            <div class="defense-icon"><i class="fas fa-eye-slash"></i></div>
            <div>
                <div class="defense-tag">Confidentiality</div>
                <div class="defense-title">Cannot Decrypt Traffic</div>
                <div class="defense-body">The Noise Protocol DH exchange produces session keys shared only between Miner and Pool. An on-path attacker never learns the secret â€” forward secrecy ensures past sessions are also safe.</div>
            </div>
        </div>

        <div class="defense-card">
            <div class="defense-icon"><i class="fas fa-shield-alt"></i></div>
            <div>
                <div class="defense-tag">Integrity</div>
                <div class="defense-title">Cannot Modify Frames</div>
                <div class="defense-body">Every binary frame is protected by an AEAD authentication tag (ChaCha20-Poly1305). Flipping a single bit â€” even in a job ID â€” causes immediate verification failure and connection drop.</div>
            </div>
        </div>

        <div class="defense-card">
            <div class="defense-icon"><i class="fas fa-id-card"></i></div>
            <div>
                <div class="defense-tag">Authenticity</div>
                <div class="defense-title">Cannot Impersonate the Pool</div>
                <div class="defense-body">The attacker must complete a Noise_NX handshake using the pool's Authority Private Key. Without it, the handshake math fails. Miners pin the pool's public key and reject any mismatch.</div>
            </div>
        </div>

        <!-- Threats Neutralized -->
        <div class="rounded-lg px-4 py-3"
             style="background:rgba(14,79,95,0.15); border:1px solid rgba(6,182,212,0.25);">
            <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-check-double" style="color:#22d3ee;"></i>
                <span class="mono-font font-bold uppercase tracking-wider" style="font-size:0.72rem; color:#22d3ee;">
                    SV1 Attacks Neutralized
                </span>
            </div>
            <div class="flex flex-wrap gap-2 mono-font" style="font-size:0.78rem;">
                <span style="color:#F87171; text-decoration:line-through;">set_extranonce injection</span>
                <span style="color:rgba(148,163,184,0.3);">Â·</span>
                <span style="color:#F87171; text-decoration:line-through;">client.reconnect hijack</span>
                <span style="color:rgba(148,163,184,0.3);">Â·</span>
                <span style="color:#F87171; text-decoration:line-through;">job tampering</span>
            </div>
        </div>

    </div>
</div>

</div>
<script src="slides.js"></script>
<script src="navigate.js"></script>
</body>
</html>
